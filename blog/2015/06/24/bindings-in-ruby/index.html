
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Bindings in Ruby - David Perel's Octopress Blog</title>
  <meta name="author" content="David Perel">

  
  <meta name="description" content="Bindings in Embedded Ruby Do you see the binding? In ERB, Ruby programmers become aware of the importance of binding. In order to use this powerful &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://dperel.github.io/blog/2015/06/24/bindings-in-ruby/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="David Perel's Octopress Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">David Perel's Octopress Blog</a></h1>
  
    <h2>Showcasing lessons and work from Flatiron School.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="dperel.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Bindings in Ruby</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-06-24T22:13:35-04:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>24</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>10:13 pm</span></time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Bindings in Embedded Ruby</p>

<p><img class="center" src="http://www.artinthepicture.com/artists/Jan_van_Eyck/arnolfini.jpeg"></p>

<p>Do you see the binding?</p>

<p>In ERB, Ruby programmers become aware of the importance of binding. In order to use this powerful templating tool to generate HTML (or other language) documents using Ruby, a binding is required to pass a snapshot of the current code and pass it to be executed. Let&rsquo;s use this code snippet where we assume there is a Movie class with an array of information-laden movie objects made accessible by calling Movie.all:</p>

<p>def generate_movie_webpages
+    html = File.read(&ldquo;lib/templates/movie.html.erb&rdquo;)
+    template = ERB.new(html)</p>

<h1>From our movie.html.erb file we generate a new ERB template</h1>

<ul>
<li> @movies = Movie.all</li>
<li> @movies.each do |movie|</li>
<li>   @movie = movie</li>
<li>   result = template.result(binding)</li>
<li>   File.write(&ldquo;_site/movies/#{movie.name}&rdquo;, result)

<h1>For each movie object in our list, we generate a page based on the template and store it at a unique address.</h1></li>
<li> end</li>
<li>end</li>
</ul>


<p>Notice where binding came in there? It was in the loop, taking a snapshot of the code as it stood and passing it to the ERB execution method, template#result(). We&rsquo;ve seen some of what it can do. Now, what exactly does binding contain, and where does it come from?</p>

<p>To start our inquiry into its roots, here are some short definitions of binding:</p>

<p>&ldquo;It squishes the universe into one singular object that I can then pass around.&rdquo; - Avi Flombaum, Rubyista Extraordinaire</p>

<p>&ldquo;Logic of a quantifier to be applied to a given variable so that the variable falls within its scope.
For example, in an expression of the form. Example: For every x, if x is a dog, x is an animal,â€™ the universal quantifier is binding the variable x.&rdquo; - Oxford English Dictionary</p>

<p>This is a good start. It seems that binding grabs the universe of code as it is at that line of processing, packs it in a pill, and allows your template to ingest it for execution. But where exactly does binding come from? What kind of method or object is it? To help us out, I&rsquo;ve looked in the Ruby Documentation.</p>

<p>&ldquo;Objects of class Binding encapsulate the execution context at some particular place in the code and retain this context for future use. The variables, methods, value of self, and possibly an iterator block that can be accessed in this context are all retained. Binding objects can be created using Kernel#binding.&rdquo; - Ruby-doc.org</p>

<p>Those first and last lines answer our question: Bindings are instances of a class and they belong to Kernel. Kernel! The all important nugget at the center of our Ruby popcorn. Binding even has several public instance methods that allow you to examine what it contains. Binding.local_variables and Binding.local_variable_defined? are useful.</p>

<p>Binding&rsquo;s relation to Kernel explains its ability to pack variables, methods, the value of self, and possibly an iterator block into a single word. Binding gives the Pry gem its power, and it enables ERB templates to make the most of your Ruby code when generating code in other langauages. Binding is a 360-degree snapshot. Binding is the world seen through a water droplet. Binding is encapsulation.</p>

<p><img class="center" src="http://www.oneonta.edu/faculty/farberas/arth/Images/ARTH_214images/van_eyck/arnolfini/center.jpg"></p>

<p>Do you see the binding now?</p>

<p>Painting: Jan Van Eyck&rsquo;s Giovanni Arnolfini and his Bride'</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">David Perel</span></span>

      




<time class='entry-date' datetime='2015-06-24T22:13:35-04:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>24</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>10:13 pm</span></time>
      


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://dperel.github.io/blog/2015/06/24/bindings-in-ruby/" data-via="" data-counturl="http://dperel.github.io/blog/2015/06/24/bindings-in-ruby/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2015/06/11/code-bootcamps-and-the-changing-face-of-tech/" title="Previous Post: Code bootcamps and the changing face of tech">&laquo; Code bootcamps and the changing face of tech</a>
      
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/06/24/bindings-in-ruby/">Bindings in Ruby</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/06/11/code-bootcamps-and-the-changing-face-of-tech/">Code Bootcamps and the Changing Face of Tech</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/06/07/second-octopress-post/">Second Octopress Post</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/06/01/my-first-post-on-octopress/">My First Post on Octopress</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - David Perel -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
